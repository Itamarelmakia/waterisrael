# אוטומציה לבדיקת דו"ח מעקב ביצוע השקעות (רשות המים)

## תקציר
ברשות המים מנהלים פרויקטים מסוגים שונים.

```python
ALLOWED_FUNDING_LABELS = {"השקעה", "שיקום", "שיקום / שדרוג", "תחזוקה / שוטף", "קידוח"}
```

יש מגוון של רשויות מקומיות והדיווחים נעשים בקבצי אקסל על התקדמות תקציבים ועוד.
המצב היום הוא שמהנדסים מבצעים עדכונים באותם קבצי אקסל והדיווחים שמופיעים בהם לפעמים אינם נכונים
ומכילים דיווחים לא תקניים שיוצרים השפעות תקציביות או החלטות שאינן נכונות.

המטרה של הפרויקט היא לבצע אוטומציה לבדיקת הכללים ולאפשר בסופו של דבר פתרון שיאפשר למשתמש לטעון קובץ אקסל
ולא לבזבז זמן על בדיקות ולמנוע טעויות.

בשביל עוד פרטים ניתן לעיין בקובץ ההנחיות המצורף:
**הנחיות להגשת דוח אימות ביצוע השקעות שנתי.pdf**

---

## מה אנחנו בונים (Use Case)
כלי שמבצע **ולידציה אוטומטית** לקובץ אקסל של "דו"ח מעקב ביצוע השקעות בפועל" ומחזיר:

1. דו"ח שגיאות והמלצות תיקון (CSV/Excel/JSON)
2. סיכומים לפי סיווגים (למשל: שיקום/שדרוג מים, פיתוח ביוב, ועוד)
3. סט חוקים ברור ובר־תחזוקה (Rules Engine) שמתיישר עם ההנחיות.

דוגמאות לכללים:
- אימות ערכים לשדות קטגוריים (לדוגמה `FundingLabel` ∈ `ALLOWED_FUNDING_LABELS`).
- בדיקות עקביות בין סכומי ביצוע לבין סיכומים.
- זיהוי ערכים חסרים/חריגים/לא תקניים.

---

## איך מריצים (מקומי)
> דוגמה כללית (יתעדכן לפי בחירת הטכנולוגיה בפועל).

```bash
python -m venv .venv
source .venv/bin/activate  # Windows: .venv\Scripts\activate
pip install -r requirements.txt
python -m src.main --input "./data/sample.xlsx" --out "./out"
```

---

## מבנה תיקיות מומלץ
```text
.
├─ src/
│  ├─ main.py
│  ├─ rules/
│  ├─ io/
│  └─ reports/
├─ tests/
├─ docs/
│  └─ הנחיות להגשת דוח אימות ביצוע השקעות שנתי.pdf
├─ data/            # קבצים לדוגמה (מומלץ להשאיר מחוץ ל-Git או להקטין)
├─ out/             # תוצרים (ignored)
├─ .gitignore
└─ README.md
```

---
